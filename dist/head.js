"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var postItem,db,dbItems,proPost=!1,dbData={ready:!1,items:{},item:{},libraries:{},library:{},user:{}},campus=document.getElementsByTagName("html")[0],app={ready:{db:!1,jquery:!1,authorized:!1},db:!1,auth:null,user:null},call$=new CustomEvent("$");function jq$(){window.dispatchEvent(call$ready)}var isDev=authLoc.indexOf("dev=true")>-1,awaitJquery=[],awaiting=[],adminSessionId=universalCookie("adminSessionId",(function(){var t=getUrlParam("admin",window.location.href)||!1;return t=!(!t||""==t)&&t})),isDemo=universalCookie("skillStruckDemo",(function(){var t=getUrlParam("demo",window.location.href)||!1;return!(!(t=!(!t||""==t))||!adminSessionId)&&adminSessionId}));function devRun(t){t&&window.location.href.indexOf("dev=true")>-1&&t()}function lastStepToRender(t){t.authorized&&$("html, body,.campus-body").addClass("show authorized")}function runAwaiting(t){if(awaiting&&awaiting.length){for(var e=0;e<awaiting.length;e++)awaiting[e](t);awaiting.length}}function runAwaitJquery(t){if(awaitJquery&&awaitJquery.length){for(var e=0;e<awaitJquery.length;e++)awaitJquery[e](t);e+1>=awaitJquery.length&&lastStepToRender(auth)}}function getTs(){return(new Date).getTime()}function getThisEl(t,e){var a=(t=$(t)).attr("id")||!1;return a||(t.attr("id","campus-id-".concat(e)),a=t.attr("id")),t=$("#".concat(a))}function getStateData(t,e){var a=t.indexOf(".")>-1&&t.split(".");return a?multiIndex(e,a):e[t]||!1}function multiIndex(t,e){return e.length?multiIndex(t[e[0]],e.slice(1)):t||!1}function getUrlParam(t,e){t=t.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}function universalCookie(t,e){var a=e?e():Coookies.get(t)||!1;return!!a&&(Cookies.set(t,a),a=Cookies.get(t))}function devlog(t){if(isDev)return console.log(t)}function newEl(t,e){var a=t.attr("id")||!1;return a||(a="custom-".concat(t.prop("tagName").toLowerCase(),"-").concat(e),t.attr("id",a)),t=$("#".concat(a))}function getNonSearchForm(t){return!(!!(t.attr("action")||!1)&&("/search"==t.attr("action")||t.attr("action").indexOf("search")>-1))&&t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function ownKeys(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach((function(e){_defineProperty(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function _defineProperty(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function on$(t){campus.addEventListener("jquery",(function(e){var a=e.detail.data;if(t)return t(a,e)}))}function onAuth(t){campus.addEventListener("authorized",(function(e){var a=e.detail.data;if(t)return t(a,e)}))}function onDb(t){campus.addEventListener("db",(function(e){var a=e.detail.data;if(t)return t(a,e)}))}function onReady(t){campus.addEventListener("ready",(function(e){var a=e.detail.data;if(t)return t(a,e)}))}function dispatchCampusEvent(t,e){campus.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:{data:e}})),checkIfReady(ready)}function checkIfReady(){var t=_objectSpread({},app.ready);if(t.jquery&&t.authorized&&t.db)return app.ready=!0,dispatchReady.apply(void 0,_toConsumableArray(app))}function dispatchReady(t){return dispatchCampusEvent("ready",t)}function dispatchJquery(t){return dispatchCampusEvent("$",t)}function dispatchAuthorized(t){return dispatchCampusEvent("authorized",t)}function dispatchDb(t){return dispatchCampusEvent("db",t)}function ownKeys(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach((function(e){_defineProperty(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function _defineProperty(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}window.addEventListener("dbReady",(function(t){$((function(){runAwaiting(dbData)}))})),awaitJquery.push((function(t){if(t.isLive&&($("[data-is-live-remove]").each((function(){if("test-campus.skillstruck.com"==window.location.hostname&&($(this).attr("data-is-live-test-show")||!1))return;$(this).remove()})),$("[data-is-live-show]").each((function(){if("test-campus.skillstruck.com"==window.location.hostname&&($(this).attr("data-is-live-test-remove")||!1))return void $(this).remove()}))),t.isLive&&($("[data-is-test-remove]").each((function(){if("test-campus.skillstruck.com"==window.location.hostname&&($(this).attr("data-is-live-test-show")||!1))return;$(this).remove()})),$("[data-is-test-show]").each((function(){if("test-campus.skillstruck.com"==window.location.hostname&&($(this).attr("data-is-live-test-remove")||!1))return void $(this).remove()}))),t.isDemo?($("[data-pro-remove]").remove(),$("[data-demo-remove]").remove(),$("[data-demo-show]").show()):($("[data-demo-only]").remove(),$("[data-demo-show]").remove()),t.user.pro?($("[data-pro-remove]").remove(),$("[data-pro-required]").remove()):$("[data-pro-show]").remove(),_typeof(postItem)!=undefined&&postItem&&(postItem&&!postItem.proItem?($("[data-pro-remove]").remove(),$("[data-pro-required]").remove()):($("[data-pro-remove]").remove(),$("[data-pro-required]").remove(),t.user.pro?$("[data-pro-remove]").remove():$("[data-pro-required]").remove())),t.user.image){var e=$("[data-set-user-image-bg]")||!1;e&&e.css("background-image","url("+t.user.image+")")}($("[data-req-path]")||!1)&&$("[data-req-path]").each((function(){var t=$(this).attr("data-req-path")||!1;t&&window.location.pathname!=t&&$(this).remove()}));var a=document.querySelectorAll("form")||!1;a&&a.length&&$("form").each((function(e){var a=getNonSearchForm(newEl($(this),e));if(a)for(var r=[{name:"accountIsDemo",value:t.isDemo},{name:"user_organization",value:t.user.organization||"Failed to find Data"},{name:"user_school",value:t.user.school||"Failed to find Data"}],n=0;n<r.length;n++){var o=r[n],i="added-input-".concat(o.name,"-").concat(n);a.append('<input hidden="true" style="display: none !important" id="added-input-'.concat(i,'" name="').concat(o.name,'" value="').concat(o.value||"false",'"/>'))}}))}));var page={url:window.location.href,collection:null,item:null,items:{},collections:{},render:function render(t){if(t)return t(this)}},pathArray=window.location.pathname.split("/"),pageSlug=pathArray[pathArray.length-1];function runPage(t,e){var a=window.localStorage.getItem(t.id)||!1;return page=_objectSpread(a?_objectSpread(_objectSpread({},page),a):_objectSpread({},page),t),e?e(page):page}function addItem(t){var e;page.items[t.id]=page.item=_objectSpread({id:null,index:null,slug:null,name:null,cid:null,cslug:null,library:null,active:e===t.slug,voted:!1,votes:0,season:[null,null],score:null,fields:[]},t),(e=(e=window.location.href.indexOf("/")>-1?window.location.href.split("/"):[""])[e.length-1])===page.items[t.id].slug&&(page.item=page.items[t.id]),page.collection&&page.collection.items&&page.collection.items.push(page.items[t.id])}function addCollection(t){return page.collections[t.cid]=_objectSpread({cid:null,slug:null,name:null,library:null,active:null,items:[],fields:[],ts:null},t),t.active&&(page.collection=page.collections[t.cid]),page.collections[t.cid]}var libSlug=window.location.pathname,slugIndex=(libSlug=libSlug.split("/")).length-1;function editButtonSetup(){$(".form-group.read-only").each((function(){var t=$(this).attr("id");t||($(this).attr("id",$(this).find("[id]").attr("id")+"-group"),t=$(this).attr("id"));var e=$("#"+t),a=$("#"+t+" .control");if(a||(a=$("#"+t+" input, #"+t+" textarea, #"+t+" select"))){var r=$("#"+t+" label"),n=a.val(),o=a.attr("name");$(this).prepend('<button type="button" class="button button-text edit-button" aria-label="Edit '+o+" ("+n+')">Edit</button>');var i=$(this).find(".edit-button");editButtonListen(i,e,r,a),setTimeout((function(){if(a=$("#"+t+" .control"),!(n=a.val())||""===n.trim())return i.remove(),void e.removeClass("read-only");i.attr("aria-label","Edit "+o+" ("+n+")")}),5e3)}}))}function editButtonClicked(t,e){t.removeClass("read-only"),e.remove()}function editButtonListen(t,e,a,r){t.on("click",(function(){editButtonClicked(e,t)}))}function requireSlug(t){t||(t=document.querySelectorAll("[data-require-slug]"));for(var e=0;e<t.length;e++){var a=t[e],r=a.dataset.requireSlug;if(r.indexOf(",")>-1)for(var n=r.split(","),o=!1,i=0;i<n.length;i++)(o||n[i]==libSlug)&&(o=!0),i+1>=n.length&&(o||a.remove());else r.indexOf("!")>-1?libSlug===r&&a.remove():libSlug!==r&&a.remove()}}function setFormValues(t){for(var e=document.querySelectorAll("[data-get-value]"),a={uid:t.uid,name:(t.first||"")+" "+(t.last||""),email:t.email||auth.email||auth.user.email||"",location:window.location.href},r=0;r<e.length;r++){var n=e[r],o=n.dataset.getValue;a[o]&&(n.value=a[o])}}libSlug=libSlug[slugIndex],window.addEventListener("DOMContentLoaded",(function(t){requireSlug(),setTimeout((function(){for(var t=[document.querySelectorAll("html")[0],document.querySelectorAll("body")[0],document.querySelectorAll(".campus-body")[0]],e=0;e<t.length;e++){t[e].className+=" authorized show"}}),3e3)})),window.addEventListener("authorized",(function(t){setFormValues(t.detail.auth.user)})),awaiting.push(editButtonSetup);var ranShowIf=!1;function awaitUserData(){return setTimeout((function(){return ranShowIf||auth&&auth.user&&auth.user.id?!ranShowIf&&auth.user.id?runPostIfShow(auth.user,!0):void 0:awaitUserData()}),250)}function runPostIfShow(t,e){if(!ranShowIf){ranShowIf=!0;var a=$("[data-fallback]"),r=$("[data-is-pro]"),n=$("[data-no-pro]");return proPost&&1==proPost?t.premium&&!1!==t.premium?runIfShow(r):runIfShow(a):runIfShow(n)}}function runIfShow(t){t.each((function(t){var e=$(this),a="data-if-show-display";if(e.attr(a)){var r=e.attr(a);r||(r="block");var n=e.attr("style")||"";e.attr("style",n+"display:"+r+" !important;")}}))}function getToc(){var t=$(".post-main-content");if(t.length&&t.length>1)return console.log("too many .post-main-content waiting 150"),setTimeout((function(){return getToc()}),150);var e="campus-post-main-content";t.attr("id",e);var a="#"+e;t=$(a);var r=a+" h2",n=$(r),o=a+" h3",i=$(o),u=a+" h4",l=$(u),s=r;n.length<4&&i&&i.length&&i.length>0&&(s+=", "+o),i.length<4&&l&&l.length&&l.length>0&&(s+=", "+u);var c=$(s),d=$(".toc-col");if(d&&d.length&&d.length>0&&c&&c.length&&c.length>0){var p=$(".toc-col .toc-list"),f=c.length;p.html(""),c.each((function(t){var e,a,r,n;if((a=(e=$(this)).text())&&a.length){a=a.toLowerCase();var o=/[\W_]+/g;if(o.test(a)){var i=(a=a.replace(o,"-")).length-1;"-"===a.charAt(i)&&(a=a.slice(0,i))}r=a,e.attr("id",r),n='<li id="'+r+'-link" class="toc-li"><a href="#'+r+'" class="toc-link is-'+e.prop("tagName").toLowerCase()+'"><span class="toc-link-text">'+e.text()+"</span></a></li>",p.append(n)}t+1>=f&&(d.show(),window.location.hash===r&&scrollToHash())}))}}$((function(){campus.addEventListener("authorized",(function(t){return runPostIfShow(t.detail.user)})),awaitUserData()})),$((function(){$(".main-section.tabs-list-section.w-tab-menu").attr("id","secondary-navbar");var t=$("#primary-navbar").height()+1.5*$("#secondary-navbar").height();topTarget=t+t/2,$(".toc-col .toc-list").html(""),getToc()}));var topTarget=60,navHeights=0;function scrollToHash(){var t=$(window.location.hash);if(console.log($("body").hasClass("show")),!$("body").hasClass("show")&&!$("body").hasClass("authorized")&&t)return setTimeout((function(){return scrollToHash()}),150);console.log("trying"),$("html, body").animate({scrollTop:t.offset().top-topTarget},500)}function hashCheck(){$(".main-section.tabs-list-section.w-tab-menu").attr("id","secondary-navbar");var t=$("#primary-navbar").height()+1.5*$("#secondary-navbar").height();topTarget=t+t/2,$('a[href^="#"]::before').each((function(){var t=$(this).attr("href");$("#"+t)&&$("#"+t+":before").attr("style",'content:""; display:block; height:'+topTarget+"px; margin:-"+topTarget+"px 0 0; ")})),scrollToHash()}
