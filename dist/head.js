"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var postItem,db,dbItems;console.log("v-0.3.5");var proPost=!1,dbData={ready:!1,items:{},item:{},libraries:{},library:{},user:{}},campus=document.getElementsByTagName("html")[0],app={ready:{db:!1,jquery:!1,authorized:!1},db:!1,auth:null,user:null},$onReady=function $onReady(e){if(console.log("$onReadyRan"),"undefined"!=typeof $)return e($);window.addEventListener("$",(function(t){for(var n=t.details.$;void 0!==n;){return function $runCallback(e){return e(n)}((function(){return e(newJquery)}))}}))},isDev=authLoc.indexOf("dev=true")>-1,awaitJquery=[],awaiting=[],adminSessionId=universalCookie("adminSessionId",(function(){var e=getUrlParam("admin",window.location.href)||!1;return e=!(!e||""==e)&&e})),isDemo=universalCookie("skillStruckDemo",(function(){var e=getUrlParam("demo",window.location.href)||!1;return!(!(e=!(!e||""==e))||!adminSessionId)&&adminSessionId}));function devRun(e){e&&window.location.href.indexOf("dev=true")>-1&&e()}function lastStepToRender(e){e.authorized&&$("html, body,.campus-body").addClass("show authorized")}function runAwaiting(e){if(awaiting&&awaiting.length)for(var t=0;t<awaiting.length;t++)awaiting[t](e)}function runAwaitJquery(e){if(awaitJquery&&awaitJquery.length){for(var t=0;t<awaitJquery.length;t++)awaitJquery[t](e);t+1>=awaitJquery.length&&lastStepToRender(auth)}}function getTs(){return(new Date).getTime()}function getThisEl(e,t){var n=(e=$(e)).attr("id")||!1;return n||(e.attr("id","campus-id-".concat(t)),n=e.attr("id")),e=$("#".concat(n))}function getStateData(e,t){var n=e.indexOf(".")>-1&&e.split(".");return n?multiIndex(t,n):t[e]||!1}function multiIndex(e,t){return t.length?multiIndex(e[t[0]],t.slice(1)):e||!1}function getUrlParam(e,t){e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function universalCookie(e,t){var n=t?t():Coookies.get(e)||!1;return!!n&&(Cookies.set(e,n),n=Cookies.get(e))}function devlog(e){if(isDev)return console.log(e)}function newEl(e,t){var n=e.attr("id")||!1;return n||(n="custom-".concat(e.prop("tagName").toLowerCase(),"-").concat(t),e.attr("id",n)),e=$("#".concat(n))}function getNonSearchForm(e){return!(!!(e.attr("action")||!1)&&("/search"==e.attr("action")||e.attr("action").indexOf("search")>-1))&&e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on$(e){campus.addEventListener("jquery",(function(t){var n=t.detail.data;if(e)return e(n,t)}))}function onAuth(e){campus.addEventListener("authorized",(function(t){var n=t.detail.data;if(e)return e(n,t)}))}function onDb(e){campus.addEventListener("db",(function(t){var n=t.detail.data;if(e)return e(n,t)}))}function onReady(e){campus.addEventListener("ready",(function(t){var n=t.detail.data;if(e)return e(n,t)}))}function dispatchCampusEvent(e,t){campus.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:{data:t}})),checkIfReady(ready)}function checkIfReady(){var e=_objectSpread({},app.ready);if(e.jquery&&e.authorized&&e.db)return app.ready=!0,dispatchReady.apply(void 0,_toConsumableArray(app))}function dispatchReady(e){return dispatchCampusEvent("ready",e)}function dispatchJquery(e){return dispatchCampusEvent("$",e)}function dispatchAuthorized(e){return dispatchCampusEvent("authorized",e)}function dispatchDb(e){return dispatchCampusEvent("db",e)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.addEventListener("dbReady",(function(e){$((function(){runAwaiting(dbData)}))})),awaitJquery.push((function(e){if(e.isLive&&($("[data-is-live-remove]").each((function(){if("test-campus.skillstruck.com"==window.location.hostname&&($(this).attr("data-is-live-test-show")||!1))return;$(this).remove()})),$("[data-is-live-show]").each((function(){if("test-campus.skillstruck.com"==window.location.hostname&&($(this).attr("data-is-live-test-remove")||!1))return void $(this).remove()}))),e.isLive&&($("[data-is-test-remove]").each((function(){if("test-campus.skillstruck.com"==window.location.hostname&&($(this).attr("data-is-live-test-show")||!1))return;$(this).remove()})),$("[data-is-test-show]").each((function(){if("test-campus.skillstruck.com"==window.location.hostname&&($(this).attr("data-is-live-test-remove")||!1))return void $(this).remove()}))),e.isDemo?($("[data-pro-remove]").remove(),$("[data-demo-remove]").remove(),$("[data-demo-show]").show()):($("[data-demo-only]").remove(),$("[data-demo-show]").remove()),e.user.pro?($("[data-pro-remove]").remove(),$("[data-pro-required]").remove()):$("[data-pro-show]").remove(),_typeof(postItem)!=undefined&&postItem&&(postItem&&!postItem.proItem?($("[data-pro-remove]").remove(),$("[data-pro-required]").remove()):($("[data-pro-remove]").remove(),$("[data-pro-required]").remove(),e.user.pro?$("[data-pro-remove]").remove():$("[data-pro-required]").remove())),e.user.image){var t=$("[data-set-user-image-bg]")||!1;t&&t.css("background-image","url("+e.user.image+")")}($("[data-req-path]")||!1)&&$("[data-req-path]").each((function(){var e=$(this).attr("data-req-path")||!1;e&&window.location.pathname!=e&&$(this).remove()}));var n=document.querySelectorAll("form")||!1;n&&n.length&&$("form").each((function(t){var n=getNonSearchForm(newEl($(this),t));if(n)for(var r=[{name:"accountIsDemo",value:e.isDemo},{name:"user_organization",value:e.user.organization||"Failed to find Data"},{name:"user_school",value:e.user.school||"Failed to find Data"}],o=0;o<r.length;o++){var a=r[o],i="added-input-".concat(a.name,"-").concat(o);n.append('<input hidden="true" style="display: none !important" id="added-input-'.concat(i,'" name="').concat(a.name,'" value="').concat(a.value||"false",'"/>'))}}))}));var page={url:window.location.href,collection:null,item:null,items:{},collections:{},render:function render(e){if(e)return e(this)}},pathArray=window.location.pathname.split("/"),pageSlug=pathArray[pathArray.length-1];function runPage(e,t){var n=window.localStorage.getItem(e.id)||!1;return page=_objectSpread(n?_objectSpread(_objectSpread({},page),n):_objectSpread({},page),e),t?t(page):page}function addItem(e){var t;page.items[e.id]=page.item=_objectSpread({id:null,index:null,slug:null,name:null,cid:null,cslug:null,library:null,active:t===e.slug,voted:!1,votes:0,season:[null,null],score:null,fields:[]},e),(t=(t=window.location.href.indexOf("/")>-1?window.location.href.split("/"):[""])[t.length-1])===page.items[e.id].slug&&(page.item=page.items[e.id]),page.collection&&page.collection.items&&page.collection.items.push(page.items[e.id])}function addCollection(e){return page.collections[e.cid]=_objectSpread({cid:null,slug:null,name:null,library:null,active:null,items:[],fields:[],ts:null},e),e.active&&(page.collection=page.collections[e.cid]),page.collections[e.cid]}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var libSlug=window.location.pathname,slugIndex=(libSlug=libSlug.split("/")).length-1;function editButtonSetup(){$(".form-group.read-only").each((function(){var e=$(this).attr("id");e||($(this).attr("id",$(this).find("[id]").attr("id")+"-group"),e=$(this).attr("id"));var t=$("#"+e),n=$("#"+e+" .control");if(n||(n=$("#"+e+" input, #"+e+" textarea, #"+e+" select"))){var r=$("#"+e+" label"),o=n.val(),a=n.attr("name");$(this).prepend('<button type="button" class="button button-text edit-button" aria-label="Edit '+a+" ("+o+')">Edit</button>');var i=$(this).find(".edit-button");editButtonListen(i,t,r,n),setTimeout((function(){if(n=$("#"+e+" .control"),!(o=n.val())||""===o.trim())return i.remove(),void t.removeClass("read-only");i.attr("aria-label","Edit "+a+" ("+o+")")}),5e3)}}))}function editButtonClicked(e,t){e.removeClass("read-only"),t.remove()}function editButtonListen(e,t,n,r){e.on("click",(function(){editButtonClicked(t,e)}))}function requireSlug(e){e||(e=document.querySelectorAll("[data-require-slug]"));for(var t=0;t<e.length;t++){var n=e[t],r=n.dataset.requireSlug;if(r.indexOf(",")>-1)for(var o=r.split(","),a=!1,i=0;i<o.length;i++)(a||o[i]==libSlug)&&(a=!0),i+1>=o.length&&(a||n.remove());else r.indexOf("!")>-1?libSlug===r&&n.remove():libSlug!==r&&n.remove()}}function setFormValues(e){for(var t=document.querySelectorAll("[data-get-value]"),n={uid:e.uid,name:(e.first||"")+" "+(e.last||""),email:e.email||auth.email||auth.user.email||"",location:window.location.href},r=0;r<t.length;r++){var o=t[r],a=o.dataset.getValue;n[a]&&(o.value=n[a])}}libSlug=libSlug[slugIndex],window.addEventListener("DOMContentLoaded",(function(e){requireSlug(),setTimeout((function(){for(var e=[document.querySelectorAll("html")[0],document.querySelectorAll("body")[0],document.querySelectorAll(".campus-body")[0]],t=0;t<e.length;t++){e[t].className+=" authorized show"}}),3e3)})),window.addEventListener("authorized",(function(e){setFormValues(e.detail.auth.user)})),awaiting.push(editButtonSetup);var ranShowIf=!1;function at$(e){if("undefined"!=typeof $)return e($);$=undefined,window.addEventListener("$",(function(){if("undefined"==typeof $)var t=setInterval((function checkFor$(){"undefined"==typeof $||"undefined"!=typeof $&&!_typeof($)||(clearInterval(t),$((function(){e()})))}),50);if("undefined"!=typeof $)return $((function(){e()}));for(var n=!1;!$||"undefined"==typeof $||"undefined"==$;)n=!0;for(;n;)return $((function(){e()}))}))}function onAuthorized_inHead(){campus.addEventListener("authorized",(function(e){return runPostIfShow(e.detail.user)})),console.log("onAuthorized_inHead ran!"),awaitUserData()}function awaitUserData(){return setTimeout((function(){return ranShowIf||auth&&auth.user&&auth.user.id?!ranShowIf&&auth.user.id?runPostIfShow(auth.user,!0):void 0:awaitUserData()}),50)}function runPostIfShow(e,t){if(!ranShowIf){ranShowIf=!0;var n=$("[data-fallback]"),r=$("[data-is-pro]"),o=$("[data-no-pro]");return proPost&&1==proPost?e.premium&&!1!==e.premium?runIfShow(r):runIfShow(n):runIfShow(o)}}function runIfShow(e){e.each((function(e){var t=$(this),n="data-if-show-display";if(t.attr(n)){var r=t.attr(n);r||(r="block");var o=t.attr("style")||"";t.attr("style",o+"display:"+r+" !important;")}}))}function getToc(){var e=$(".post-main-content");if(e.length&&e.length>1)return console.log("too many .post-main-content waiting 150"),setTimeout((function(){return getToc()}),150);var t="campus-post-main-content";e.attr("id",t);var n="#"+t;e=$(n);var r=n+" h2",o=$(r),a=n+" h3",i=$(a),u=n+" h4",l=$(u),c=r;o.length<4&&i&&i.length&&i.length>0&&(c+=", "+a),i.length<4&&l&&l.length&&l.length>0&&(c+=", "+u);var s=$(c),d=$(".toc-col");if(d&&d.length&&d.length>0&&s&&s.length&&s.length>0){var f=$(".toc-col .toc-list"),p=s.length;f.html(""),s.each((function(e){var t,n,r,o;if((n=(t=$(this)).text())&&n.length){n=n.toLowerCase();var a=/[\W_]+/g;if(a.test(n)){var i=(n=n.replace(a,"-")).length-1;"-"===n.charAt(i)&&(n=n.slice(0,i))}r=n,t.attr("id",r),o='<li id="'+r+'-link" class="toc-li"><a href="#'+r+'" class="toc-link is-'+t.prop("tagName").toLowerCase()+'"><span class="toc-link-text">'+t.text()+"</span></a></li>",f.append(o)}e+1>=p&&(d.show(),window.location.hash===r&&scrollToHash())}))}}at$(onAuthorized_inHead),$((function(){$(".main-section.tabs-list-section.w-tab-menu").attr("id","secondary-navbar");var e=$("#primary-navbar").height()+1.5*$("#secondary-navbar").height();topTarget=e+e/2,$(".toc-col .toc-list").html(""),getToc()}));var topTarget=60,navHeights=0;function scrollToHash(){var e=$(window.location.hash);if(console.log($("body").hasClass("show")),!$("body").hasClass("show")&&!$("body").hasClass("authorized")&&e)return setTimeout((function(){return scrollToHash()}),150);console.log("trying"),$("html, body").animate({scrollTop:e.offset().top-topTarget},500)}function hashCheck(){$(".main-section.tabs-list-section.w-tab-menu").attr("id","secondary-navbar");var e=$("#primary-navbar").height()+1.5*$("#secondary-navbar").height();topTarget=e+e/2,$('a[href^="#"]::before').each((function(){var e=$(this).attr("href");$("#"+e)&&$("#"+e+":before").attr("style",'content:""; display:block; height:'+topTarget+"px; margin:-"+topTarget+"px 0 0; ")})),scrollToHash()}